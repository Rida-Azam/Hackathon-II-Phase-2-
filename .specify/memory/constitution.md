<!--
SYNC IMPACT REPORT
==================
Version Change: N/A (new) → 1.0.0
Modified Principles: N/A (initial constitution)
Added Sections:
  - Core Principles (5 principles)
  - Phase I Specific Scope
  - Phase I Rules
  - Governance
Removed Sections: None (initial document)
Templates Checked:
  - plan-template.md: ✅ Compatible (Constitution Check section aligns)
  - spec-template.md: ✅ Compatible (Requirements section aligns)
  - tasks-template.md: ✅ Compatible (Phase structure aligns)
  - phr-template.prompt.md: ✅ Compatible (No constitution-specific fields)
Follow-up TODOs: None
-->

# Todo Application Constitution

## Core Principles

### I. Spec-Driven Development (MANDATORY)

All development MUST follow the strict workflow: Constitution → Specs → Plan → Tasks → Implement.

- No code may be written without approved specs and tasks
- All implementation MUST be generated by Claude Code (or equivalent AI coding agent) based on explicitly written specifications
- Humans may ONLY: create folder structure, write/edit specifications, refine specs, write constitutions, create CLAUDE.md files, run tests, commit code, and deploy
- If output is incorrect or incomplete, refinement MUST occur at the specification level (update spec → regenerate), never by manually editing generated code

**Rationale**: This ensures traceability, reproducibility, and consistency across all development phases. Specification-driven development prevents scope creep and maintains alignment between requirements and implementation.

### II. Agent Behavior Rules (NON-NEGOTIABLE)

AI agents MUST operate within strict boundaries to maintain specification integrity.

- No manual coding by humans (except trivial structural/setup files)
- No feature invention — agents may NEVER add features not explicitly requested in the current phase's approved specification
- No deviation from approved specifications
- Agents MUST ask clarifying questions when requirements are ambiguous rather than making assumptions

**Rationale**: Strict agent boundaries prevent unauthorized scope expansion and ensure all functionality can be traced back to approved specifications.

### III. Phase Governance

Each project phase is strictly scoped and isolated.

- Each phase is strictly scoped by its own specification documents
- Future-phase features, patterns, libraries, or architecture MUST NOT leak into earlier phases
- Architecture may evolve ONLY through updated specifications and plans in later phases
- Backward compatibility between phases is NOT required — each phase may be built from scratch following its spec (but SHOULD reuse concepts where appropriate)

**Rationale**: Phase isolation prevents premature optimization and ensures each phase delivers a complete, working product within its defined constraints.

### IV. Technology Constraints

Technology choices are phase-specific and MUST NOT exceed phase boundaries.

**Phase I** (Active):
- Python 3.13+
- UV for package management
- In-memory storage only (no database)
- CLI interface only (no GUI)
- No external libraries (pure standard library Python)

**Later Phases** (Reference Only — NOT active in Phase I):
- Phase II: Next.js 16+ (App Router), FastAPI, SQLModel, Neon Serverless PostgreSQL, Better Auth (JWT)
- Phase III: OpenAI ChatKit, OpenAI Agents SDK, Official MCP SDK
- Phase IV: Docker, Minikube, Helm Charts, kubectl-ai, kagent
- Phase V: Kafka (Redpanda), Dapr, DigitalOcean Kubernetes (DOKS) or GKE/AKS, GitHub Actions CI/CD

**Rationale**: Phase-specific constraints ensure appropriate complexity at each stage and prevent over-engineering early phases with technologies meant for later stages.

### V. Quality Principles

Code quality standards apply across all phases.

- Clean architecture and single-responsibility principle
- Clear separation of concerns (UI / business logic / data access)
- Stateless services where required (especially Phase III+)
- Defensive programming with strong input validation
- Friendly and clear error messages for users
- Comprehensive docstrings and comments in generated code
- Readable console UX (Phase I), responsive web UI (Phase II+), natural-language friendly chatbot (Phase III+)

**Rationale**: Consistent quality standards ensure maintainability and user experience across all project phases.

## Phase I Specific Scope

Phase I is strictly limited to building an **In-Memory Python Console App**. No other features are permitted.

### Required Task Coverage

1. Task data model and in-memory storage
2. CLI menu and application loop
3. Add task functionality
4. View task list functionality
5. Update task functionality
6. Delete task functionality
7. Mark task complete/incomplete
8. Input validation and error handling
9. Application startup and exit flow

### Task Model Specification

The Task model MUST include:
- **id**: Auto-incrementing integer ID (starting from 1)
- **title**: Required string, 1–200 characters
- **description**: Optional string, maximum 1000 characters
- **completed**: Boolean, default False

## Phase I Rules

Implementation constraints specific to Phase I:

- Tasks MUST be small, testable, and sequential
- Do NOT introduce new features beyond the scope defined above
- Do NOT include future phase functionality
- Tasks MUST be sufficient to fully implement Phase I
- Console interface: Simple numbered menu OR command-based (e.g., "add", "list", "update 3 new title", "delete 5", "complete 2", "quit")
- All user inputs MUST be validated with helpful feedback

## Governance

This constitution supersedes all other practices and governs all AI agents working on this repository.

### Amendment Process

1. All amendments MUST be documented with version updates
2. Version follows semantic versioning (MAJOR.MINOR.PATCH):
   - MAJOR: Backward incompatible governance/principle removals or redefinitions
   - MINOR: New principle/section added or materially expanded guidance
   - PATCH: Clarifications, wording, typo fixes, non-semantic refinements
3. Amendments require explicit approval and documentation of changes

### Compliance

- All PRs and reviews MUST verify compliance with this constitution
- Complexity beyond specification MUST be justified and documented
- See `CLAUDE.md` for runtime development guidance

**Version**: 1.0.0 | **Ratified**: 2025-12-30 | **Last Amended**: 2025-12-30
